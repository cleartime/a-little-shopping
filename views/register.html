<!DOCTYPE html>
<html lang="en">

<head>
    <title>用户注册</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link href="css/style.css" rel="stylesheet">-->
</head>

<body>
     <%- message %>
    <form>
        <input type="text" name="uname" value=''>
        <input type="password" name='upwd' value=''>
        <input type="button" onclick="register()" value="注 册" />
    </form>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
        function register() {
            //通过serialize()方法进行序列化表单值，创建文本字符串。
            var data = $("form").serialize();
            //例如："username=张三&password=12345"
            $.ajax({
                url: '/register',
                type: 'POST',
                data: data,
                success: function (data, status) {
                    if (status == 'success') {
                        // location.href = 'register';
                    }
                },
                error: function (res, err) {
                    location.href = 'register';
                }
            });
        }
    </script>
</body>

</html>